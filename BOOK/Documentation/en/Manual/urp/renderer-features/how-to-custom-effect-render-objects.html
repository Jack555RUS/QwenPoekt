<!DOCTYPE html><html lang="en" class="no-js">
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<script type="text/javascript" src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="6e91be4c-3145-4ea2-aa64-89d716064836" data-dLayer-ignore="true" data-document-language="true"></script><script type="text/javascript">function OptanonWrapper() {}</script><script>window.dataLayer = window.dataLayer || []; dataLayer.push({ event: 'dataLayer-initialized', user: { user_unity_id: undefined, user_logged_in: 'no' }, environment: { environment_locale: 'en-us', environment_currency: undefined }});</script><script>var offline=(location.href.indexOf('docs.unity3d.com')==-1)?true:false;if(!offline){(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);  })(window,document,'script','dataLayer','GTM-5V25JL6');}</script><link href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap" rel="stylesheet">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Unity - Manual: Example of creating a custom rendering effect using a Render Objects Renderer Feature in URP</title>
<meta property="og:image" content="https://unity3d.com/files/images/ogimg.jpg">
<meta name="author" content="Unity Technologies">
<meta property="relative-path-to-manual" content="../../">
<meta property="version-switcher-versions-with-this-page" content="Versions with this page:">
<meta property="version-switcher-versions-without-this-page" content="Versions without this page:">
<meta property="version-switcher-supported" content="Supported">
<meta property="version-switcher-legacy" content="Legacy">
<link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../../../StaticFilesManual/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../../StaticFilesManual/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../../StaticFilesManual/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../../../StaticFilesManual/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../../../StaticFilesManual/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../../../StaticFilesManual/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../../../StaticFilesManual/images/favicons/apple-touch-icon.png">
<link rel="canonical" href="https://docs.unity3d.com/6000.3/Documentation/Manual/urp/renderer-features/how-to-custom-effect-render-objects.html">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../../../StaticFilesManual/images/favicons/tileicon-144x144.png">
<script type="text/javascript" src="/StaticFilesConfig/UnityVersionsInfo.js"></script><script type="text/javascript" src="../../../StaticFilesManual/js/jquery.js?ts=20260225"></script><script type="text/javascript" src="../../../StaticFilesManual/js/core.js?ts=20260225"></script><script type="text/javascript" src="../../../StaticFilesManual/js/image-comp.js?ts=20260225"></script><script type="text/javascript" src="../../docdata/toc.js?ts=20260225"></script><script type="text/javascript" src="../../docdata/global_toc.js?ts=20260225"></script><link rel="stylesheet" type="text/css" href="../../../StaticFilesManual/css/core.css?ts=20260225">
<link rel="stylesheet" type="text/css" href="../../../StaticFilesManual/css/icons.css?ts=20260225">
<link rel="stylesheet" href="../../../StaticFilesManual/css/prism.css">
<script src="../../../StaticFilesManual/js/prism.js"></script><script src="/StaticFilesConfig/feedback/feedback.js"></script><script src="../../../StaticFilesManual/js/jquery.sidebar.min.js"></script><link rel="stylesheet" href="../../../StaticFilesManual/css/mobileoptimisation.css">
<script src="../../../StaticFilesManual/js/mobileoptimisation.js"></script>
</head>
<body>
<div id="DocsAnalyticsData" data-area="none" data-pagetype="manual"></div>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a aria-label="go to the homepage" href="https://docs.unity3d.com"></a></div>
<div class="search-form"><form action="../../30_search.html" method="get" class="apisearch">
<input type="text" name="q" aria-label="Search manual documentation" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul>
<li><a href="../../index.html" class="selected">Manual</a></li>
<li><a href="../../../ScriptReference/index.html">Scripting API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity.com/">unity.com</a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="toggle version-number" id="VersionNumber" data-target=".otherversionscontent">
                                Version: <b>Unity 6.3 LTS</b> (6000.3)
                                <div class="otherversionscontent" id="OtherVersionsContent" style="display: none;">
<ul id="OtherVersionsContentUl"></ul>
<div id="otherVersionsLegend"><ul>
<li>
<div id="supportedColour" class="legendBox"></div>Supported</li>
<li>
<div id="notFoundColour" class="legendBox"></div>Legacy</li>
</ul></div>
</div>
<div id="VersionSwitcherArrow" class="arrow versionSwitcherArrow"></div>
</div>
<div class="lang-switcher"><div class="current toggle" data-target=".lang-list">
<div class="lbl">Language
:                <span class="b">English</span>
</div>
<div class="arrow"></div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/urp/renderer-features/how-to-custom-effect-render-objects.html">English</a></li>
<li><a href="/cn/current/Manual/urp/renderer-features/how-to-custom-effect-render-objects.html">中文</a></li>
<li><a href="/ja/current/Manual/urp/renderer-features/how-to-custom-effect-render-objects.html">日本語</a></li>
<li><a href="/kr/current/Manual/urp/renderer-features/how-to-custom-effect-render-objects.html">한국어</a></li>
</ul></div>
</div></div>
</div></div>
<div class="mobileLogo"><a aria-label="go to the homepage" href="https://docs.unity3d.com"></a></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc" id="customScrollbar">
<h2>Unity Manual</h2>
<div class="search-form sidebar-search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" aria-label="Search manual documentation" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" id="mobileSearchBtn" class="submit" value="Search">
</form></div>
<div class="toggle version-number sidebar-version-switcher" id="VersionNumber" data-target=".otherversionscontent"><form id="otherVersionsContentMobileForm"><div class="ui-field-contain">
<label for="select-native-4">Version: Unity 6.3 LTS</label><select name="select-native-4" id="versionsSelectMobile"><option>Select a different version</option>
<optgroup id="versionsWithThisPageMobile" label="Versions with this page"></optgroup>
<optgroup id="versionsWithoutThisPageMobile" label="Versions without this page"></optgroup></select>
</div></form></div>
<div class="lang-switcher"><div class="current toggle" data-target=".lang-list">
<div class="lbl">Language
:                <span class="b">English</span>
</div>
<div class="arrow"></div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/urp/renderer-features/how-to-custom-effect-render-objects.html">English</a></li>
<li><a href="/cn/current/Manual/urp/renderer-features/how-to-custom-effect-render-objects.html">中文</a></li>
<li><a href="/ja/current/Manual/urp/renderer-features/how-to-custom-effect-render-objects.html">日本語</a></li>
<li><a href="/kr/current/Manual/urp/renderer-features/how-to-custom-effect-render-objects.html">한국어</a></li>
</ul></div>
</div></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="../../render-pipelines.html">Render pipelines</a></li>
<li><a href="../../universal-render-pipeline.html">Using the Universal Render Pipeline</a></li>
<li><a href="../../urp/customizing-urp.html">Custom rendering and post-processing in URP</a></li>
<li><a href="../../urp/urp-renderer-feature-landing.html">Adding pre-built effects via Renderer Features in URP</a></li>
<li>Example of creating a custom rendering effect using a Render Objects Renderer Feature in URP</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a aria-label="go to the previous page" href="../../urp/urp-renderer-feature.html"></a></span><div class="tip">Add a Renderer Feature to a URP Renderer</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a aria-label="go to the next page" href="../../urp/renderer-features/renderer-feature-render-objects.html"></a></span><div class="tip">Render Objects Renderer Feature reference for URP</div>
</div>
</div></div>
<div id="_leavefeedback"></div>
<h1>Example of creating a custom rendering effect using a Render Objects Renderer Feature in URP</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>The <a href="renderer-feature-render-objects.html">Render Objects Renderer Feature</a> lets you draw objects at a specific point in the frame rendering loop. You can interpret and write rendering data such as depth and stencil in different ways, or draw a set of <span class="tooltip"><strong>GameObjects</strong><span class="tooltiptext">The fundamental object in Unity scenes, which can represent characters, props, scenery, cameras, waypoints, and more. A GameObject’s functionality is defined by the Components attached to it. <a class="tooltipMoreInfoLink" aria-label="Navigate to more info about class-GameObject.html" href="../../class-GameObject.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="../../Glossary.html#GameObject" aria-label="Go to glossary anchor for GameObject">Glossary</a></span></span></span> at a certain time.</p>

<p>The following example uses a Render Objects Renderer Feature to draw a GameObject in a different color if it’s behind other GameObjects.</p>

<figure>
<img src="../../../uploads/urp/how-to-render-objects/character-goes-behind-object.gif" alt="A character created from 3 simple capsules for the body and arms. The character is red, but as it moves behind a wall, the hidden parts are rendered blue.">
<figcaption>A character created from 3 simple capsules for the body and arms. The character is red, but as it moves behind a wall, the hidden parts are rendered blue.</figcaption>
</figure>

<p>First, create a GameObject and attach it to a new <span class="tooltip"><a href="../../layers.html">layer</a><span class="tooltiptext">Layers in Unity can be used to selectively opt groups of GameObjects in or out of certain processes or calculations. This includes camera rendering, lighting, physics collisions, or custom calculations in your own code. <a class="tooltipMoreInfoLink" aria-label="Navigate to more info about Layers.html" href="../../Layers.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="../../Glossary.html#layer" aria-label="Go to glossary anchor for layer">Glossary</a></span></span></span>.</p>

<ol>
<li>Create a GameObject in your <span class="tooltip"><strong>scene</strong><span class="tooltiptext">A Scene contains the environments and menus of your game. Think of each unique Scene file as a unique level. In each Scene, you place your environments, obstacles, and decorations, essentially designing and building your game in pieces. <a class="tooltipMoreInfoLink" aria-label="Navigate to more info about CreatingScenes.html" href="../../CreatingScenes.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="../../Glossary.html#Scene" aria-label="Go to glossary anchor for Scene">Glossary</a></span></span></span>.</li>
<li>In the <strong><span class="tooltip"><strong>Inspector</strong><span class="tooltiptext">A Unity window that displays information about the currently selected GameObject, asset or project settings, allowing you to inspect and edit the values. <a class="tooltipMoreInfoLink" aria-label="Navigate to more info about UsingTheInspector.html" href="../../UsingTheInspector.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="../../Glossary.html#Inspector" aria-label="Go to glossary anchor for Inspector">Glossary</a></span></span></span></strong> window, open the <strong>Layer</strong> dropdown and add a new layer. You can call the layer <strong>DrawBehind</strong>.</li>
<li>Set the GameObject to the new layer.</li>
</ol>

<p>Next, create a Render Objects Renderer Feature that renders only the new layer, on top of the scene.</p>

<ol>
<li>In the <strong>Project</strong> window, select the <a href="../universalrp-asset.html">URP Renderer asset</a> your project uses, for example <strong>Settings</strong> &gt; <strong>PC_Renderer</strong>.</li>
<li>To create a Render Objects Renderer Feature, select <strong>Add Renderer Feature</strong> in the <strong>Inspector</strong> window, then select <strong>Render Objects</strong>.</li>
<li>To make the Renderer Feature draw only the layer with the GameObject, open the <strong>Render Objects (Render Objects)</strong> dropdown, then set <strong><span class="tooltip"><strong>Layer Mask</strong><span class="tooltiptext">A value defining which layers to include or exclude from an operation, such as rendering, collision or your own code. <a class="tooltipMoreInfoLink" aria-label="Navigate to more info about Layers.html" href="../../Layers.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="../../Glossary.html#LayerMask" aria-label="Go to glossary anchor for LayerMask">Glossary</a></span></span></span></strong> to the layer.</li>
<li>Set <strong>Event</strong> to the <strong>AfterRenderingOpaques</strong> injection point. For more information about custom pass injection points, refer to <a href="../customize/custom-pass-injection-points.html">Custom Pass injection points</a>.</li>
</ol>

<p>Next, adjust the Renderer Feature so it renders only the parts hidden behind other GameObjects, and in a different color.</p>

<ol>
<li>
<p>Open the <strong>Overrides</strong> dropdown, then select <strong>Depth</strong> and set <strong>Depth Test</strong> to <strong>Greater</strong>.</p>

<p>The Renderer Feature now only renders a <span class="tooltip"><strong>pixel</strong><span class="tooltiptext">The smallest unit in a computer image. Pixel size depends on your screen resolution. Pixel lighting is calculated at every screen pixel. <a class="tooltipMoreInfoLink" aria-label="Navigate to more info about ShadowPerformance.html" href="../../ShadowPerformance.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="../../Glossary.html#pixel" aria-label="Go to glossary anchor for pixel">Glossary</a></span></span></span> if its depth is greater than the current pixel in the <span class="tooltip"><strong>depth buffer</strong><span class="tooltiptext">A memory store that holds the z-value depth of each pixel in an image, where the z-value is the depth for each rendered pixel from the projection plane. <a class="tooltipMoreInfoLink" aria-label="Navigate to more info about class-RenderTexture.html" href="../../class-RenderTexture.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="../../Glossary.html#depthbuffer" aria-label="Go to glossary anchor for depthbuffer">Glossary</a></span></span></span>, which means the new pixel is behind another GameObject.</p>
</li>
<li><p>
<a href="../shaders-in-universalrp.html">Create a new material</a> that uses the <strong>Universal <span class="tooltip"><strong>Render Pipeline</strong><span class="tooltiptext">A series of operations that take the contents of a Scene, and displays them on a screen. Unity lets you choose from pre-built render pipelines, or write your own. <a class="tooltipMoreInfoLink" aria-label="Navigate to more info about render-pipelines.html" href="../../render-pipelines.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="../../Glossary.html#renderpipeline" aria-label="Go to glossary anchor for renderpipeline">Glossary</a></span></span></span>/Unlit</strong> <span class="tooltip"><strong>shader</strong><span class="tooltiptext">A program that runs on the GPU. <a class="tooltipMoreInfoLink" aria-label="Navigate to more info about Shaders.html" href="../../Shaders.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="../../Glossary.html#shader" aria-label="Go to glossary anchor for shader">Glossary</a></span></span></span>.</p></li>
<li><p>Set the <strong>Base Map</strong> color to a color of your choice.</p></li>
<li><p>In the Renderer Feature, in the <strong>Overrides</strong> section, set <strong>Material</strong> to the material you created.</p></li>
</ol>

<p>When you move the GameObject behind other GameObjects, Unity now renders the hidden parts in the color you selected.</p>

<figure>
<img src="../../../uploads/urp/how-to-render-objects/character-depth-test-greater.gif" alt="The red characters moves behind a wall. Unity renders the hidden parts using a blue material.">
<figcaption>The red characters moves behind a wall. Unity renders the hidden parts using a blue material.</figcaption>
</figure>

<h2>Fix overlapping areas of a GameObject</h2>

<p>If you use a complex GameObject, the Renderer Feature might draw overlapping parts as though they’re hidden. This is because the depth of one part is greater than the overlapping part.</p>

<figure>
<img src="../../../uploads/urp/how-to-render-objects/rendobj-depth-greater-see-through.png" alt="A capsule with a smaller capsule attached. The Renderer Feature renders part of the larger capsule using the blue material, because its behind the smaller part.">
<figcaption>A capsule with a smaller capsule attached. The Renderer Feature renders part of the larger capsule using the blue material, because it’s behind the smaller part.</figcaption>
</figure>

<p>To fix this issue, disable rendering the whole GameObject, and create a new Renderer Feature that renders the non-hidden parts. Follow these steps:</p>

<ol>
<li>
<p>In the URP Renderer asset, open the <strong>Opaque Layer Mask</strong> dropdown and disable the layer you added. </p>

<p>Unity now doesn’t draw the layer in the opaque render pass. The Renderer Feature still draws the hidden parts, because it’s in a different render pass.</p>

<figure>
<img src="../../../uploads/urp/how-to-render-objects/rendobj-character-only-behind.png" alt="Unity does not draw the character unless its behind an object">
<figcaption>Unity does not draw the character unless it’s behind an object</figcaption>
</figure>
</li>
<li><p>Add a new Render Objects Renderer Feature.</p></li>
<li><p>Set <strong>Layer Mask</strong> to the new layer, so this Renderer Feature draws the GameObject.</p></li>
<li><p>Set <strong>Event</strong> to the <strong>AfterRenderingOpaques</strong> injection point.</p></li>
<li><p>To avoid the first Renderer Feature affecting the depth calculations in the new Renderer Feature, disable <strong>Write Depth</strong> in the <strong>Overrides</strong> section of the first Renderer Feature.</p></li>
</ol>

<p>The first Renderer Feature draws the hidden parts, and the second Renderer Feature draws the rest of the GameObject.</p>

<figure>
<img src="../../../uploads/urp/how-to-render-objects/character-goes-behind-object.gif" alt="A character created from 3 simple capsules for the body and arms. The character is red, but as it moves behind a wall, the hidden parts are rendered blue.">
<figcaption>A character created from 3 simple capsules for the body and arms. The character is red, but as it moves behind a wall, the hidden parts are rendered blue.</figcaption>
</figure>

<h2>Additional resources</h2>

<ul>
<li><a href="renderer-feature-render-objects.html">Renderer Objects Renderer Feature reference</a></li>
</ul>
<div id="_content"></div>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a aria-label="go to the previous page" href="../../urp/urp-renderer-feature.html"></a></span><div class="tip">Add a Renderer Feature to a URP Renderer</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a aria-label="go to the next page" href="../../urp/renderer-features/renderer-feature-render-objects.html"></a></span><div class="tip">Render Objects Renderer Feature reference for URP</div>
</div>
</div>
</div>
<div class="footer-wrapper"><div class="footer clear">
<div class="copy">Copyright ©2005-2026 Unity Technologies. All rights reserved. Built from job ID 63949192. Built on: 2026-02-25.</div>
<div class="menu">
<a href="https://learn.unity.com/">Tutorials</a><a href="https://answers.unity3d.com">Community Answers</a><a href="https://support.unity3d.com/hc/en-us">Knowledge Base</a><a href="https://forum.unity3d.com">Forums</a><a href="https://unity3d.com/asset-store">Asset Store</a><a href="https://docs.unity3d.com/Manual/TermsOfUse.html">Terms of use</a><a href="https://unity.com/legal">Legal</a><a href="https://unity.com/legal/privacy-policy">Privacy Policy</a><a href="https://unity.com/legal/cookie-policy">Cookies</a><a href="https://unity.com/legal/do-not-sell-my-personal-information">Do Not Sell or Share My Personal Information</a><div id="ot-sdk-btn-container"><a id="ot-sdk-btn" class="ot-sdk-show-settings" href="javascript:void(0);">Your Privacy Choices (Cookie Settings)</a></div>
</div>
</div></div>
</div></div></div>
</div>
</body>
</html>
