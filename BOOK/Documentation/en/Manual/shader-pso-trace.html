<!DOCTYPE html><html lang="en" class="no-js">
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<script type="text/javascript" src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="6e91be4c-3145-4ea2-aa64-89d716064836" data-dLayer-ignore="true" data-document-language="true"></script><script type="text/javascript">function OptanonWrapper() {}</script><script>window.dataLayer = window.dataLayer || []; dataLayer.push({ event: 'dataLayer-initialized', user: { user_unity_id: undefined, user_logged_in: 'no' }, environment: { environment_locale: 'en-us', environment_currency: undefined }});</script><script>var offline=(location.href.indexOf('docs.unity3d.com')==-1)?true:false;if(!offline){(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);  })(window,document,'script','dataLayer','GTM-5V25JL6');}</script><link href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap" rel="stylesheet">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Unity - Manual: Trace and manage PSO data collections</title>
<meta property="og:image" content="https://unity3d.com/files/images/ogimg.jpg">
<meta name="author" content="Unity Technologies">
<meta property="relative-path-to-manual" content="">
<meta property="version-switcher-versions-with-this-page" content="Versions with this page:">
<meta property="version-switcher-versions-without-this-page" content="Versions without this page:">
<meta property="version-switcher-supported" content="Supported">
<meta property="version-switcher-legacy" content="Legacy">
<link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFilesManual/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFilesManual/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFilesManual/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFilesManual/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFilesManual/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFilesManual/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFilesManual/images/favicons/apple-touch-icon.png">
<link rel="canonical" href="https://docs.unity3d.com/6000.3/Documentation/Manual/shader-pso-trace.html">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFilesManual/images/favicons/tileicon-144x144.png">
<script type="text/javascript" src="/StaticFilesConfig/UnityVersionsInfo.js"></script><script type="text/javascript" src="../StaticFilesManual/js/jquery.js?ts=20260225"></script><script type="text/javascript" src="../StaticFilesManual/js/core.js?ts=20260225"></script><script type="text/javascript" src="../StaticFilesManual/js/image-comp.js?ts=20260225"></script><script type="text/javascript" src="docdata/toc.js?ts=20260225"></script><script type="text/javascript" src="docdata/global_toc.js?ts=20260225"></script><link rel="stylesheet" type="text/css" href="../StaticFilesManual/css/core.css?ts=20260225">
<link rel="stylesheet" type="text/css" href="../StaticFilesManual/css/icons.css?ts=20260225">
<link rel="stylesheet" href="../StaticFilesManual/css/prism.css">
<script src="../StaticFilesManual/js/prism.js"></script><script src="/StaticFilesConfig/feedback/feedback.js"></script><script src="../StaticFilesManual/js/jquery.sidebar.min.js"></script><link rel="stylesheet" href="../StaticFilesManual/css/mobileoptimisation.css">
<script src="../StaticFilesManual/js/mobileoptimisation.js"></script>
</head>
<body>
<div id="DocsAnalyticsData" data-area="none" data-pagetype="manual"></div>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a aria-label="go to the homepage" href="https://docs.unity3d.com"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" aria-label="Search manual documentation" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul>
<li><a href="index.html" class="selected">Manual</a></li>
<li><a href="../ScriptReference/index.html">Scripting API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity.com/">unity.com</a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="toggle version-number" id="VersionNumber" data-target=".otherversionscontent">
                                Version: <b>Unity 6.3 LTS</b> (6000.3)
                                <div class="otherversionscontent" id="OtherVersionsContent" style="display: none;">
<ul id="OtherVersionsContentUl"></ul>
<div id="otherVersionsLegend"><ul>
<li>
<div id="supportedColour" class="legendBox"></div>Supported</li>
<li>
<div id="notFoundColour" class="legendBox"></div>Legacy</li>
</ul></div>
</div>
<div id="VersionSwitcherArrow" class="arrow versionSwitcherArrow"></div>
</div>
<div class="lang-switcher"><div class="current toggle" data-target=".lang-list">
<div class="lbl">Language
:                <span class="b">English</span>
</div>
<div class="arrow"></div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/shader-pso-trace.html">English</a></li>
<li><a href="/cn/current/Manual/shader-pso-trace.html">中文</a></li>
<li><a href="/ja/current/Manual/shader-pso-trace.html">日本語</a></li>
<li><a href="/kr/current/Manual/shader-pso-trace.html">한국어</a></li>
</ul></div>
</div></div>
</div></div>
<div class="mobileLogo"><a aria-label="go to the homepage" href="https://docs.unity3d.com"></a></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc" id="customScrollbar">
<h2>Unity Manual</h2>
<div class="search-form sidebar-search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" aria-label="Search manual documentation" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" id="mobileSearchBtn" class="submit" value="Search">
</form></div>
<div class="toggle version-number sidebar-version-switcher" id="VersionNumber" data-target=".otherversionscontent"><form id="otherVersionsContentMobileForm"><div class="ui-field-contain">
<label for="select-native-4">Version: Unity 6.3 LTS</label><select name="select-native-4" id="versionsSelectMobile"><option>Select a different version</option>
<optgroup id="versionsWithThisPageMobile" label="Versions with this page"></optgroup>
<optgroup id="versionsWithoutThisPageMobile" label="Versions without this page"></optgroup></select>
</div></form></div>
<div class="lang-switcher"><div class="current toggle" data-target=".lang-list">
<div class="lbl">Language
:                <span class="b">English</span>
</div>
<div class="arrow"></div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/shader-pso-trace.html">English</a></li>
<li><a href="/cn/current/Manual/shader-pso-trace.html">中文</a></li>
<li><a href="/ja/current/Manual/shader-pso-trace.html">日本語</a></li>
<li><a href="/kr/current/Manual/shader-pso-trace.html">한국어</a></li>
</ul></div>
</div></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="materials-and-shaders.html">Materials and shaders</a></li>
<li><a href="Shaders.html">Custom shaders</a></li>
<li><a href="shader-troubleshooting.html">Troubleshooting shaders</a></li>
<li><a href="shader-reduce-stalling.html">Fixing hitches or stalls</a></li>
<li><a href="shader-prevent-stutter.html">Prevent shader stutters</a></li>
<li><a href="shader-pso-trace-warming.html">Tracing and warming up PSOs</a></li>
<li>Trace and manage PSO data collections</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a aria-label="go to the previous page" href="shader-pso-introduction.html"></a></span><div class="tip">Introduction to PSO tracing and warming</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a aria-label="go to the next page" href="shader-prewarm.html"></a></span><div class="tip">Warm up PSOs</div>
</div>
</div></div>
<div id="_leavefeedback"></div>
<h1>Trace and manage PSO data collections</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>Trace a new PSO data collection and manage existing collections.</p>

<p>
<strong>Important</strong>: <code>GraphicsStateCollection</code> is an experimental API and might be changed or removed in the future.</p>

<p>PSO tracing means recording which pipeline state objects (PSO) your app uses, and the associated data to be able to prewarm PSOs. Modern graphics APIs compile shaders as part of PSO creation, so they require tracing additional graphics states and the <span class="tooltip"><strong>shader</strong><span class="tooltiptext">A program that runs on the GPU. <a class="tooltipMoreInfoLink" aria-label="Navigate to more info about Shaders.html" href="Shaders.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#shader" aria-label="Go to glossary anchor for shader">Glossary</a></span></span></span> variant used.</p>

<p>The <a href="../ScriptReference/Experimental.Rendering.GraphicsStateCollection.html">GraphicsStateCollection</a> API enables you to trace and prewarm PSOs in your project. <strong>Tip</strong>: Refer to the <a href="../ScriptReference/Experimental.Rendering.GraphicsStateCollection.html">GraphicsStateCollection</a> API documentation for more information about the <code>GraphicsStateCollection</code> API and for code samples.</p>

<p>The following sections explain how to trace a PSO collection and manage PSO collections in your project.</p>

<h2>Requirements for tracing</h2>

<p>Tracing with the <code>GraphicsStateCollection</code> API is only supported on <span class="tooltip"><strong>development builds</strong><span class="tooltiptext">A development build includes debug symbols and enables the Profiler. <a class="tooltipMoreInfoLink" aria-label="Navigate to more info about building-introduction.html" href="building-introduction.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#developmentbuild" aria-label="Go to glossary anchor for developmentbuild">Glossary</a></span></span></span>, not release builds.</p>

<h2>Trace a new PSO data collection</h2>

<p>Trace PSOs in your project and create a <a href="../ScriptReference/Experimental.Rendering.GraphicsStateCollection.ctor.html">GraphicsStateCollection</a> asset (a PSO data collection), which stores information about the combinations of shader variants and graphics state your application uses.</p>

<p>To trace a new PSO data collection, follow these steps:</p>

<ol>
<li>Create a new <a href="../ScriptReference/Experimental.Rendering.GraphicsStateCollection.ctor.html">GraphicsStateCollection</a> in a C# script. This new collection will contain information about traced PSOs from your application or <span class="tooltip"><strong>scene</strong><span class="tooltiptext">A Scene contains the environments and menus of your game. Think of each unique Scene file as a unique level. In each Scene, you place your environments, obstacles, and decorations, essentially designing and building your game in pieces. <a class="tooltipMoreInfoLink" aria-label="Navigate to more info about CreatingScenes.html" href="CreatingScenes.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#Scene" aria-label="Go to glossary anchor for Scene">Glossary</a></span></span></span>.</li>
<li>To begin tracing PSOs into your PSO data collection, call the <a href="../ScriptReference/Experimental.Rendering.GraphicsStateCollection.BeginTrace.html">GraphicsStateCollection.BeginTrace</a> method. You should begin tracing during scene or application startup to avoid missing any PSOs.</li>
<li>To end tracing, call the <a href="../ScriptReference/Experimental.Rendering.GraphicsStateCollection.EndTrace.html">GraphicsStateCollection.EndTrace</a> method. End tracing during scene or application end.</li>
</ol>

<p>
<strong>Tip</strong>: The recommended best practice is to trace a separate collection per graphics API and build platform, because GPU states can vary per API.</p>

<h2>Save a collection</h2>

<p>Once tracing is complete, save the PSO data collection to disk using <a href="../ScriptReference/Experimental.Rendering.GraphicsStateCollection.SaveToFile.html">GraphicsStateCollection.SaveToFile</a>.</p>

<p>When you save the PSO data collection, the collection saves as a <code>.graphicsstate</code> file at the path you provide.</p>

<h2>Retrieve a collection</h2>

<p>If you deploy the Player on a different device, you need to manually retrieve the <code>.graphicsstate</code> file back to the Editor’s machine. This varies depending on your platform. On Android, use <code>adb pull</code>.</p>

<p>Alternatively, you can also use <a href="../ScriptReference/Experimental.Rendering.GraphicsStateCollection.SendToEditor.html">GraphicsStateCollection.SendToEditor</a> to save and retrieve the PSO collection using <code>PlayerConnection</code>. To use <code>PlayerConnection</code>, enable <strong>Development Build</strong> and <strong>Autoconnect Profiler</strong> in your project’s <strong><span class="tooltip"><strong>Build Profile</strong><span class="tooltiptext">A set of customizable configuration settings to use when creating a build for your target platform. <a class="tooltipMoreInfoLink" aria-label="Navigate to more info about build-profiles.html" href="build-profiles.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#buildprofile" aria-label="Go to glossary anchor for buildprofile">Glossary</a></span></span></span></strong> settings.</p>

<h2>Manage a collection</h2>

<p>The <code>GraphicsStateCollection</code> API provides several methods that you can use to manage a collection and the shader variants within it. For more information, refer to the <a href="../ScriptReference/Experimental.Rendering.GraphicsStateCollection.html">GraphicsStateCollection</a> API documentation.</p>

<p><a id="append" aria-hidden="true"></a></p>

<h3>Append missing PSOs to a collection</h3>

<p>If you modify the shaders used by your application or scene, the collection might not contain the new PSO data. To check whether a collection contains a specific shader variant, call <a href="../ScriptReference/Experimental.Rendering.GraphicsStateCollection.ContainsVariant.html">ContainsVariant</a>.</p>

<p>To trace missing PSOs, you can use the tracing workflow with the same collection to begin and end a trace around a subset of your scene that uses the missing shader variants. Unity appends any new shader variants encountered during tracing to the existing collection data when it’s saved.</p>

<p>You can also enable the <a href="../ScriptReference/Experimental.Rendering.GraphicsStateCollection.traceCacheMisses.html">traceCacheMisses</a> option when calling a <a href="shader-prewarm.html#warm-up-a-collection">prewarm method</a> to automatically trace any missing PSO data to a separate <a href="../ScriptReference/Experimental.Rendering.GraphicsStateCollection.cacheMissCollection.html">cacheMissCollection</a>.</p>

<p>To append new PSO data from other collections, call <a href="../ScriptReference/Experimental.Rendering.GraphicsStateCollection.Append.html">Append</a> on the original collection.</p>

<h2>Additional resources</h2>

<ul>
<li><a href="shader-prewarm.html">Warm up PSOs</a></li>
<li><a href="shader-pso-example.html">PSO tracing and warming example</a></li>
</ul>
<div id="_content"></div>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a aria-label="go to the previous page" href="shader-pso-introduction.html"></a></span><div class="tip">Introduction to PSO tracing and warming</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a aria-label="go to the next page" href="shader-prewarm.html"></a></span><div class="tip">Warm up PSOs</div>
</div>
</div>
</div>
<div class="footer-wrapper"><div class="footer clear">
<div class="copy">Copyright ©2005-2026 Unity Technologies. All rights reserved. Built from job ID 63949192. Built on: 2026-02-25.</div>
<div class="menu">
<a href="https://learn.unity.com/">Tutorials</a><a href="https://answers.unity3d.com">Community Answers</a><a href="https://support.unity3d.com/hc/en-us">Knowledge Base</a><a href="https://forum.unity3d.com">Forums</a><a href="https://unity3d.com/asset-store">Asset Store</a><a href="https://docs.unity3d.com/Manual/TermsOfUse.html">Terms of use</a><a href="https://unity.com/legal">Legal</a><a href="https://unity.com/legal/privacy-policy">Privacy Policy</a><a href="https://unity.com/legal/cookie-policy">Cookies</a><a href="https://unity.com/legal/do-not-sell-my-personal-information">Do Not Sell or Share My Personal Information</a><div id="ot-sdk-btn-container"><a id="ot-sdk-btn" class="ot-sdk-show-settings" href="javascript:void(0);">Your Privacy Choices (Cookie Settings)</a></div>
</div>
</div></div>
</div></div></div>
</div>
</body>
</html>
