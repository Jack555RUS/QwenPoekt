# Drag Race - Документация по проекту

## Структура проекта

```
DragRace/
├── Assets/
│   ├── Scripts/
│   │   ├── Core/           # Ядро игры (GameManager, GameConfig, Bootstrap)
│   │   ├── Managers/       # Менеджеры (GameManager)
│   │   ├── Data/           # Модели данных и ScriptableObjects
│   │   ├── SaveSystem/     # Система сохранений
│   │   ├── InputSystem/    # Управление и привязки клавиш
│   │   ├── Vehicles/       # Физика и данные автомобилей
│   │   ├── Racing/         # Логика заездов
│   │   ├── UI/             # Пользовательский интерфейс
│   │   │   └── Menus/      # Меню (Главное, Игры)
│   │   ├── Audio/          # Аудио менеджеры
│   │   └── Utils/          # Вспомогательные утилиты
│   ├── Scenes/             # Unity сцены
│   ├── Prefabs/            # Префабы
│   ├── Sprites/            # 2D спрайты
│   ├── Resources/          # Ресурсы для загрузки
│   │   ├── Cars/           # Конфигурации автомобилей
│   │   ├── Parts/          # Конфигурации запчастей
│   │   └── Characters/     # Данные персонажей
│   └── Audio/              # Аудио файлы
```

## Архитектура

### Менеджеры (Singleton)

1. **GameManager** - центральный менеджер состояния игры
2. **SaveManager** - управления сохранениями и загрузками
3. **InputManager** - обработка ввода и привязки клавиш
4. **RaceManager** - управление заездами

### Система данных

- **GameData** - основные игровые данные
- **PlayerData** - данные игрока (уровень, опыт, деньги)
- **VehicleData** - данные автомобиля
- **VehiclePart** - базовый класс для запчастей
- **SettingsData** - настройки игры

### ScriptableObjects

- **GameConfig** - глобальная конфигурация игры
- **CarDatabase** - база данных автомобилей
- **PartsDatabase** - база данных запчастей

## Как использовать

### 1. Создание конфигураций

В Unity Editor:
```
Assets → Create → DragRace → Game Config
Assets → Create → DragRace → Car Database
Assets → Create → DragRace → Parts Database
```

### 2. Инициализация игры

Создайте сцену и добавьте объект с компонентом `Bootstrap`.

### 3. Запуск новой игры

```csharp
GameManager.Instance.StartNewGame("Имя игрока");
```

### 4. Сохранение/Загрузка

```csharp
// Сохранение в слот 1
GameManager.Instance.SaveGame(1);

// Загрузка из слота 1
GameManager.Instance.LoadGame(1);

// Получить информацию о сохранениях
var saves = GameManager.Instance.GetSaveSlots();
```

## Система заезда

### Дистанции
- 1/8 мили (201 м)
- 1/4 мили (402 м) - классическая
- 1/2 мили (804 м)
- 1 миля (1609 м)

### Управление
| Действие | Клавиша |
|----------|---------|
| Газ | W / Стрелка вверх |
| Переключение вверх | D / Стрелка вправо |
| Переключение вниз | A / Стрелка влево |
| Нитро | Left Shift / N |
| Пауза | Escape |

## Физика автомобиля

### Расчёт силы тяги
```
F_тяги = (T_двигателя × i_передачи × i_главной) / r_колеса
```

### Сопротивления
```
F_сопр = F_аэро + F_качения
F_аэро = 0.5 × ρ × v² × Cd × A
F_качения = Crr × m × g
```

## Экономика

### Награды за заезд
| Дистанция | Победа | Поражение |
|-----------|--------|-----------|
| 1/8 мили | $100 | $30 |
| 1/4 мили | $200 | $60 |
| 1/2 мили | $400 | $120 |
| 1 миля | $800 | $240 |

### Опыт
| Дистанция | Победа | Поражение |
|-----------|--------|-----------|
| 1/8 мили | 50 XP | 25 XP |
| 1/4 мили | 100 XP | 50 XP |
| 1/2 мили | 200 XP | 100 XP |
| 1 миля | 400 XP | 200 XP |

## Прокачка персонажа

### Характеристики
- **Реакция** - влияет на время реакции на зелёный свет (0.1-0.5 с)
- **Скорость переключения** - влияет на время переключения передач (0.1-0.5 с)

### Уровень
- Каждый уровень даёт 5 очков улучшения
- Требуемый опыт растёт на 20% каждый уровень

## Настройки

### Разрешения
640×480, 800×600, 1024×768, 1280×720, 1920×1080, 2560×1440

### Звук
- Общая громкость: 0-100 (шаг 10)
- Музыка: 0-100
- Эффекты: 0-100

## Сохранения

### Основные слоты
- 5 слотов для ручного сохранения

### Автосохранения
- 5 слотов
- Интервал: 5 минут
- Циклическая перезапись

## Расширение

### Добавление нового автомобиля

1. Создайте ScriptableObject CarDatabase или отредактируйте существующий
2. Добавьте новую запись в `carModels`
3. Настройте характеристики и цену

### Добавление новой запчасти

1. Создайте класс наследник `VehiclePart`
2. Добавьте в `PartsDatabase`
3. Настройте бонусы характеристик

## Требования к Unity

- Версия: Unity 2021.3 LTS или новее
- Платформа: Windows (win32)
- Рендерер: Built-in или URP
- Разрешение: 1920×1080 (базовое)

## Следующие шаги

1. Создание UI префабов и сцен
2. Добавление 2D спрайтов автомобилей
3. Реализация звуковых эффектов
4. Создание системы частиц для эффектов
5. Добавление анимаций
