# üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CI/CD –¥–ª—è Unity –ø—Ä–æ–µ–∫—Ç–∞

**DragRace Unity Project**  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞:** 27 —Ñ–µ–≤—Ä–∞–ª—è 2026

---

## üìã –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1Ô∏è‚É£ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GitHub Secrets

```bash
# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub
# Settings ‚Üí Secrets and variables ‚Üí Actions ‚Üí New repository secret

# –î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —Å–µ–∫—Ä–µ—Ç—ã:
UNITY_EMAIL=jackal555rus@gmail.com
UNITY_PASSWORD=Unit0579
```

### 2Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ workflow

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª workflow —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
ls .github/workflows/unity-build.yml

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å YAML
yamllint .github/workflows/unity-build.yml
```

### 3Ô∏è‚É£ –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫

```bash
# –°–¥–µ–ª–∞–π—Ç–µ commit –∏ push –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git add .github/workflows/unity-build.yml
git commit -m "Add CI/CD workflow"
git push origin main

# GitHub Actions –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é: Actions ‚Üí Unity Build ‚Üí Run workflow
```

---

## üéØ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç workflow

### –ó–∞–¥–∞—á–∏:

| –ó–∞–¥–∞—á–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –í—Ä–µ–º—è |
|--------|----------|-------|
| **validate** | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞ | ~2 –º–∏–Ω |
| **build-windows** | –°–±–æ—Ä–∫–∞ .exe –¥–ª—è Windows | ~15-30 –º–∏–Ω |
| **release** | –ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ —Ä–µ–ª–∏–∑—ã | ~1 –º–∏–Ω |

### –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã:

- ‚úÖ `DragRace_Windows.exe` ‚Äî —Å–æ–±—Ä–∞–Ω–Ω–∞—è –∏–≥—Ä–∞
- ‚úÖ `build-unity.log` ‚Äî –ª–æ–≥ —Å–±–æ—Ä–∫–∏
- ‚úÖ `GITHUB_STEP_SUMMARY` ‚Äî –æ—Ç—á—ë—Ç –≤ GitHub

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
.github/
‚îú‚îÄ‚îÄ workflows/
‚îÇ   ‚îî‚îÄ‚îÄ unity-build.yml      # –ì–ª–∞–≤–Ω—ã–π workflow
‚îî‚îÄ‚îÄ secrets.example.md       # –®–∞–±–ª–æ–Ω —Å–µ–∫—Ä–µ—Ç–æ–≤

DragRaceUnity/
‚îú‚îÄ‚îÄ Assets/
‚îÇ   ‚îî‚îÄ‚îÄ Scripts/
‚îÇ       ‚îî‚îÄ‚îÄ Editor/
‚îÇ           ‚îú‚îÄ‚îÄ BuildScript.cs       # –†—É—á–Ω–∞—è —Å–±–æ—Ä–∫–∞
‚îÇ           ‚îî‚îÄ‚îÄ CIBuildScript.cs     # CI/CD —Å–±–æ—Ä–∫–∞
‚îú‚îÄ‚îÄ Packages/
‚îÇ   ‚îî‚îÄ‚îÄ manifest.json        # –ú–æ–¥—É–ª–∏ Unity
‚îî‚îÄ‚îÄ ProjectSettings/         # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞

Builds/
‚îî‚îÄ‚îÄ GitHub-Actions/          # –ü–∞–ø–∫–∞ –¥–ª—è —Å–±–æ—Ä–æ–∫ CI/CD
```

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ –∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é:

- [x] **GitHub Repository** (public –∏–ª–∏ private)
- [x] **Git LFS** –≤–∫–ª—é—á—ë–Ω (–¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤)
- [x] **Unity project** –≤ –ø–∞–ø–∫–µ `DragRaceUnity/`
- [x] **Unity Editor 6000.3.10f1** —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ runner

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ –∫ runner:

GitHub –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç **windows-latest** runners –±–µ—Å–ø–ª–∞—Ç–Ω–æ:

- **OS:** Windows Server 2022
- **CPU:** 2 cores
- **RAM:** 7 GB
- **SSD:** 14 GB

‚ö†Ô∏è **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 60 –º–∏–Ω—É—Ç –º–∞–∫—Å–∏–º—É–º

---

## üéÆ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞:

```yaml
# –°—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–∏:
on:
  push:
    branches: [ "main", "develop" ]  # –ü—Ä–∏ –ø—É—à–µ –≤ –≤–µ—Ç–∫–∏
  
  pull_request:
    branches: [ "main" ]             # –ü—Ä–∏ PR
  
  release:
    types: [published]               # –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ä–µ–ª–∏–∑–∞
  
  workflow_dispatch:                 # –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫
```

### –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Actions**
2. –í—ã–±–µ—Ä–∏—Ç–µ **Unity Build**
3. –ù–∞–∂–º–∏—Ç–µ **Run workflow**
4. –í—ã–±–µ—Ä–∏—Ç–µ –≤–µ—Ç–∫—É –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
5. –ù–∞–∂–º–∏—Ç–µ **Run workflow**

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –°—Ç–∞—Ç—É—Å —Å–±–æ—Ä–æ–∫:

[![Unity Build](https://github.com/–í–ê–®_–†–ï–ü–û–ó–ò–¢–û–†–ò–ô/actions/workflows/unity-build.yml/badge.svg)](https://github.com/–í–ê–®_–†–ï–ü–û–ó–ò–¢–û–†–ò–ô/actions/workflows/unity-build.yml)

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤:

1. **Actions** ‚Üí –í—ã–±–µ—Ä–∏—Ç–µ –∑–∞–ø—É—Å–∫
2. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∑–∞–¥–∞—á—É (validate / build-windows)
3. –†–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ —à–∞–≥–∏
4. –°–∫–∞—á–∞–π—Ç–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã

---

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –í–∫–ª—é—á–∏—Ç—å –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:

```yaml
# –í —Ñ–∞–π–ª–µ unity-build.yml –¥–æ–±–∞–≤—å—Ç–µ:
env:
  UNITY_LOG_LEVEL: verbose
  ACTIONS_RUNNER_DEBUG: true
```

### –õ–æ–∫–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:

```powershell
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–±–æ—Ä–∫—É –ª–æ–∫–∞–ª—å–Ω–æ
.\unity-build-fix.ps1

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥
Get-Content Builds\unity-build.log -Tail 50
```

### –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏:

| –û—à–∏–±–∫–∞ | –ü—Ä–∏—á–∏–Ω–∞ | –†–µ—à–µ–Ω–∏–µ |
|--------|---------|---------|
| **Unity not found** | –ù–µ–≤–µ—Ä–Ω–∞—è –≤–µ—Ä—Å–∏—è | –ü—Ä–æ–≤–µ—Ä—å—Ç–µ UNITY_VERSION |
| **No scenes in build** | –ü—É—Å—Ç—ã–µ Build Settings | –î–æ–±–∞–≤—å—Ç–µ —Å—Ü–µ–Ω—ã |
| **License error** | –ù–µ—Ç –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ | –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤ Unity Hub |
| **Out of space** | –ú–∞–ª–æ –º–µ—Å—Ç–∞ | –û—á–∏—Å—Ç–∏—Ç–µ Library/ |

---

## üì¶ –ü—É–±–ª–∏–∫–∞—Ü–∏—è —Ä–µ–ª–∏–∑–∞

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

```bash
# –°–æ–∑–¥–∞–π—Ç–µ —Ä–µ–ª–∏–∑ –Ω–∞ GitHub
# Releases ‚Üí Draft a new release
# Tag: v1.0.0
# Publish
# ‚Üí –°–±–æ—Ä–∫–∞ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
# ‚Üí .exe —Ñ–∞–π–ª –ø—Ä–∏–∫—Ä–µ–ø–∏—Ç—Å—è –∫ —Ä–µ–ª–∏–∑—É
```

### –í—Ä—É—á–Ω—É—é:

```bash
# –°–∫–∞—á–∞–π—Ç–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç –∏–∑ GitHub Actions
# –†–∞—Å–ø–∞–∫—É–π—Ç–µ
# –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≤ Release
```

---

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ workflow

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ Unity:

```yaml
# –í unity-build.yml –∏–∑–º–µ–Ω–∏—Ç–µ:
env:
  UNITY_VERSION: 6000.3.10f1  # ‚Üí –Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã:

```yaml
# –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É:
build-android:
  name: Build for Android
  runs-on: windows-latest
  steps:
    - name: Build Android
      run: |
        # –ö–æ–º–∞–Ω–¥—ã —Å–±–æ—Ä–∫–∏
```

---

## üí° –°–æ–≤–µ—Ç—ã

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏ —Å–±–æ—Ä–∫–∏:

1. **–ö—ç—à–∏—Ä—É–π—Ç–µ Library/**
   ```yaml
   - uses: actions/cache@v4
     with:
       path: DragRaceUnity/Library
       key: Library-${{ hashFiles(...) }}
   ```

2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Git LFS**
   ```bash
   git lfs install
   git lfs track "*.png" "*.fbx" "*.unity"
   ```

3. **–ò—Å–∫–ª—é—á–∞–π—Ç–µ –ª–∏—à–Ω–∏–µ —Ñ–∞–π–ª—ã**
   ```gitignore
   # .gitignore
   [Ll]ibrary/
   [Tt]emp/
   [Oo]bj/
   [Bb]uild/
   ```

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:

1. **–ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã!**
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ .gitignore**
3. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ PR –ø–µ—Ä–µ–¥ –º–µ—Ä–∂–µ–º**
4. **–û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ –∑–∞–ø—É—Å–∫**

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:

- üìö [GitHub Actions Docs](https://docs.github.com/en/actions)
- üéÆ [Unity CI/CD Guide](https://docs.unity3d.com/Manual/CI.html)
- üîß [GameCI Documentation](https://game.ci/docs/)

### –ö–æ–Ω—Ç–∞–∫—Ç—ã:

- **Email:** jackal555rus@gmail.com
- **Telegram:** @jackal555

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

- [ ] GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–∑–¥–∞–Ω
- [ ] –§–∞–π–ª workflow –¥–æ–±–∞–≤–ª–µ–Ω
- [ ] –°–µ–∫—Ä–µ—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [ ] Git LFS –≤–∫–ª—é—á—ë–Ω
- [ ] –°—Ü–µ–Ω—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ Build Settings
- [ ] –¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—É—Å–∫ —É—Å–ø–µ—à–µ–Ω
- [ ] –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã —Å–∫–∞—á–∏–≤–∞—é—Ç—Å—è
- [ ] –†–µ–ª–∏–∑ –ø—É–±–ª–∏–∫—É–µ—Ç—Å—è

---

**–ì–æ—Ç–æ–≤–æ!** üéâ

–¢–µ–ø–µ—Ä—å –ø—Ä–∏ –∫–∞–∂–¥–æ–º push –≤ `main` –ø—Ä–æ–µ–∫—Ç –±—É–¥–µ—Ç —Å–æ–±–∏—Ä–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!
