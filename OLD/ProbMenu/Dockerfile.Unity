# =============================================================================
# Dockerfile для Unity Builder
# =============================================================================
# Специализированный образ для сборки Unity проекта DragRaceUnity
# Основан на официальном образе GameCI
# =============================================================================

# Базовый образ Unity с поддержкой Windows Build
FROM gameci/unity-builder:2022.3-win

# Метки метаданных
LABEL maintainer="ProbMenu Team"
LABEL description="Unity Builder для Drag Racing Game"
LABEL unity.version="2022.3"

# Переменные окружения
ENV UNITY_PROJECT_PATH=/unity-project
ENV BUILD_OUTPUT_PATH=/builds
ENV BUILD_TARGET=Win64

# Создаём директорию для сборок
RUN mkdir -p /builds

# Рабочая директория
WORKDIR /unity-project

# Скрипт сборки (будет скопирован из проекта)
# COPY docker/unity/build.sh /docker-entrypoint.sh
# RUN chmod +x /docker-entrypoint.sh

# Команда по умолчанию
# ENTRYPOINT ["/docker-entrypoint.sh"]
