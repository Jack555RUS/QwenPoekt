# Racing Game - Проект гоночной игры на Unity

## Требования
- **Unity**: 6000.3.10f1 или новее
- **.NET**: 10.0.103 или новее
- **Платформа**: Windows (PC)
- **Разрешение**: 800x600 (по умолчанию)

## Структура проекта

```
Prob/
├── Assets/
│   ├── Scripts/
│   │   ├── Managers/          # Менеджеры игры
│   │   │   ├── GameManager.cs      # Управление состоянием и сценами
│   │   │   ├── MenuManager.cs      # Навигация по UI меню
│   │   │   ├── SaveManager.cs      # Сохранение/загрузка данных
│   │   │   └── AudioManager.cs     # Управление звуком
│   │   ├── Input/
│   │   │   └── InputManager.cs     # Обработка ввода (клавиатура + мышь)
│   │   ├── Utilities/
│   │   │   └── Logger.cs           # Система логирования
│   │   ├── GameInitializer.cs      # Инициализация игры
│   │   └── RacingGame.asmdef       # Assembly Definition
│   ├── UI Toolkit/
│   │   ├── MainMenu.uxml       # Главное меню
│   │   ├── GameMenu.uxml       # Меню игры
│   │   ├── SettingsMenu.uxml   # Меню настроек
│   │   └── PauseMenu.uxml      # Меню паузы
│   ├── Scenes/
│   │   ├── MainMenu.unity      # Сцена главного меню
│   │   ├── Game.unity          # Игровая сцена (заезд)
│   │   ├── Garage.unity        # Гараж
│   │   ├── Tuning.unity        # Тюнинг
│   │   └── Shop.unity          # Магазин
│   ├── Tests/
│   │   └── Runtime/
│   │       ├── GameManagerTests.cs
│   │       ├── SaveManagerTests.cs
│   │       ├── MenuManagerTests.cs
│   │       ├── InputManagerTests.cs
│   │       ├── AudioManagerTests.cs
│   │       └── RacingGame.Tests.Runtime.asmdef
│   └── AudioMixer.mixer        # Настройки аудио микшера
├── Packages/
│   └── manifest.json           # Зависимости Unity пакетов
├── ProjectSettings/
│   ├── PlayerSettings.asset    # Настройки игрока (разрешение 800x600)
│   ├── QualitySettings.asset   # Настройки качества
│   ├── TagManager.asset        # Слои и теги
│   ├── InputManager.asset      # Настройки ввода
│   └── EditorBuildSettings.asset # Порядок сцен
├── Logs/                       # Логи игры (создается при запуске)
└── Plan.txt                    # План разработки
```

## Установка и запуск

### 1. Открытие проекта в Unity
```
1. Запустите Unity Hub
2. Нажмите "Add" (Добавить)
3. Выберите папку проекта: D:\QwenPoekt\Prob
4. Дождитесь импорта ассетов и компиляции
```

### 2. Настройка перед запуском
```
1. Откройте Edit → Project Settings → Player
2. Проверьте разрешение: Default Screen Width = 800, Height = 600
3. Откройте Edit → Project Settings → Quality
4. Установите нужный уровень качества
```

### 3. Запуск игры
```
1. Откройте сцену Assets/Scenes/MainMenu.unity
2. Нажмите Play (▶) в Unity Editor
3. Или постройте проект: File → Build Settings → Build
```

## Управление

### Клавиатура
| Клавиша | Действие |
|---------|----------|
| W, A, S, D | Движение вперед/назад/влево/вправо |
| Стрелки | Альтернативное движение |
| Space | Прыжок / Подтверждение |
| Left Ctrl | Огонь / Действие 1 |
| Left Alt | Альтернативное действие |
| Escape | Пауза / Назад |
| Enter | Подтверждение |
| S | Сохранить игру |
| L | Загрузить игру |
| M | Открыть меню |

### Мышь
| Кнопка | Действие |
|--------|----------|
| ЛКМ | Огонь / Выбор |
| ПКМ | Альтернативное действие |
| Колесо | Прокрутка / Зум |

## Главное меню

- **Новая игра** - Создать новое сохранение
- **Продолжить** - Загрузить последнее сохранение
- **Сохранить** - Сохранить текущий прогресс
- **Загрузить** - Выбрать сохранение для загрузки
- **Настройки** - Изменить параметры игры
- **Выход** - Выйти из игры

## Меню игры

- **Заезд** - Начать гонку
- **Гараж** - Выбрать автомобиль
- **Тюнинг** - Улучшить характеристики
- **Магазин** - Купить новые детали
- **Меню** - Вернуться в главное меню

## Система сохранений

Сохранения хранятся в:
```
%APPDATA%\DefaultCompany\RacingGame\savegame.dat
```

Данные шифруются простым XOR шифрованием.

### Сохраняемые данные:
- Имя игрока
- Деньги
- Опыт
- Владеемые автомобили
- Характеристики автомобилей
- Последняя сцена
- Время игры

## Логирование

Логи записываются в папку:
```
D:\QwenPoekt\Prob\Logs\GameLog_ГГГГ-ММ-ДД_ЧЧ-мм-сс.txt
```

### Уровни логирования:
- **INFO** - Обычные сообщения
- **WARNING** - Предупреждения
- **ERROR** - Ошибки
- **DEBUG** - Отладочная информация

## Автотесты

Для запуска тестов:
```
1. Window → General → Test Runner
2. Выберите "Play Mode"
3. Нажмите "Run All"
```

### Покрытые тестами компоненты:
- GameManager - состояния игры, пауза, время
- SaveManager - сохранения, деньги, опыт, машины
- MenuManager - переключение между меню
- InputManager - ввод, чувствительность, события
- AudioManager - громкость, аудио пул

## Настройки качества

| Уровень | Описание |
|---------|----------|
| Low | Низкое качество, 0 теней |
| Medium | Среднее качество, 1 тень |
| High | Высокое качество, 2 тени, отражения |
| Ultra | Ультра качество, 4 тени, все эффекты |

## Аудио настройки

Каналы громкости:
- **Master** - Общая громкость
- **Music** - Музыка
- **SFX** - Звуковые эффекты
- **Voice** - Голос

## Известные проблемы

1. UI Toolkit документы требуют настройки в Unity Editor
2. Аудио клипы отсутствуют (нужно добавить)
3. Сцены требуют дополнительной настройки

## Планы развития

- [ ] Добавить модели автомобилей
- [ ] Реализовать физику вождения
- [ ] Создать треки для заездов
- [ ] Добавить ИИ соперников
- [ ] Реализовать систему достижений
- [ ] Добавить мультиплеер

## Лицензия

Проект создан для образовательных целей.

## Контакты

Для вопросов и предложений обращайтесь к разработчику.
