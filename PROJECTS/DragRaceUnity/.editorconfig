# .editorconfig для DragRaceUnity
# Документация: https://editorconfig.org

root = true

[*]
charset = utf-8
end_of_line = crlf
insert_final_newline = true
trim_trailing_whitespace = true

# Отступы: 4 пробела
[*.{cs,csx}]
indent_style = space
indent_size = 4
tab_width = 4

# Именование: PascalCase для типов, camelCase для локальных
[*.cs]
csharp_style_var_for_built_in_types = false
csharp_style_var_when_type_is_apparent = true
csharp_style_var_elsewhere = false

# Скобки: использовать, когда требуется
csharp_prefer_braces = true:silent

# Модификаторы доступа: указывать явно
csharp_style_require_accessibility_modifiers = for_non_interface_members:suggestion

# this.: не использовать (современный стиль)
csharp_style_this_qualifier = false:suggestion

# Выражения body для методов
csharp_style_expression_bodied_methods = when_on_single_line:suggestion

# Pattern matching
csharp_style_pattern_matching_over_is_with_cast_check = true:suggestion
csharp_style_pattern_matching_over_as_with_null_check = true:suggestion

# Null-проверки
csharp_style_conditional_delegate_call = true:suggestion

# Using директивы: внутри namespace
csharp_using_directive_placement = inside_namespace:silent

# Файловые пространства имён (C# 10+)
csharp_style_file_scoped_namespaces = true:suggestion

# Предпочтения по null
dotnet_style_prefer_is_null_check_over_reference_equality_method = true:suggestion
dotnet_style_prefer_pattern_matching = true:suggestion

# Поля: только для чтения
dotnet_style_readonly_field = true:suggestion

# Аргументы: предпочитать именованные
dotnet_code_quality_allow_named_arguments_for_parameters_with fewer_than = 3:suggestion

# Анализаторы .NET (CAxxxx)
# https://docs.microsoft.com/en-us/dotnet/fundamentals/code-analysis/overview

[*.cs]
# Включить все правила по умолчанию
dotnet_analyzer_diagnostic.severity = warning

# Производительность
dotnet_diagnostic.CA2007.severity = warning  # Consider calling ConfigureAwait on the awaited task
dotnet_diagnostic.CA1831.severity = warning  # Use AsSpan instead of indexers for string

# Надёжность
dotnet_diagnostic.CA2013.severity = error    # Do not use ReferenceEquals with value types
dotnet_diagnostic.CA2200.severity = error    # Re-throwing caught exception loses stack trace

# Безопасность
dotnet_diagnostic.CA5359.severity = warning  # Do not disable certificate validation

# Дизайн
dotnet_diagnostic.CA1050.severity = warning  # Declare types in namespaces
dotnet_diagnostic.CA1051.severity = warning  # Do not declare visible instance fields

# Стиль кода (IDExxxx)
dotnet_diagnostic.IDE0001.severity = suggestion  # Simplify names
dotnet_diagnostic.IDE0003.severity = suggestion  # Remove unnecessary this
dotnet_diagnostic.IDE0005.severity = suggestion  # Remove unnecessary using
dotnet_diagnostic.IDE0008.severity = suggestion  # Use explicit type instead of var
dotnet_diagnostic.IDE0009.severity = suggestion  # Add this qualification
dotnet_diagnostic.IDE0011.severity = suggestion  # Add braces
dotnet_diagnostic.IDE0017.severity = suggestion  # Simplify object initialization
dotnet_diagnostic.IDE0018.severity = suggestion  # Inline variable declaration
dotnet_diagnostic.IDE0019.severity = suggestion  # Use pattern matching instead of as + null check
dotnet_diagnostic.IDE0020.severity = suggestion  # Use pattern matching instead of is + null check
dotnet_diagnostic.IDE0025.severity = suggestion  # Use expression body for properties
dotnet_diagnostic.IDE0027.severity = suggestion  # Use expression body for accessors
dotnet_diagnostic.IDE0028.severity = suggestion  # Use collection initializer
dotnet_diagnostic.IDE0029.severity = suggestion  # Use null propagation
dotnet_diagnostic.IDE0031.severity = suggestion  # Use null propagation instead of conditional access
dotnet_diagnostic.IDE0032.severity = suggestion  # Use auto property
dotnet_diagnostic.IDE0036.severity = suggestion  # Order modifiers
dotnet_diagnostic.IDE0037.severity = suggestion  # Remove unnecessary parentheses
dotnet_diagnostic.IDE0039.severity = suggestion  # Use pattern matching instead of is + cast
dotnet_diagnostic.IDE0040.severity = suggestion  # Add accessibility modifiers
dotnet_diagnostic.IDE0044.severity = suggestion  # Make field readonly
dotnet_diagnostic.IDE0046.severity = suggestion  # Use pattern matching instead of is + cast
dotnet_diagnostic.IDE0047.severity = suggestion  # Remove unnecessary parentheses
dotnet_diagnostic.IDE0048.severity = suggestion  # Add parentheses for clarity
dotnet_diagnostic.IDE0051.severity = suggestion  # Remove unused private members
dotnet_diagnostic.IDE0052.severity = suggestion  # Remove unread private members
dotnet_diagnostic.IDE0053.severity = suggestion  # Use expression body for lambda
dotnet_diagnostic.IDE0054.severity = suggestion  # Use compound assignment
dotnet_diagnostic.IDE0055.severity = suggestion  # Fix formatting
dotnet_diagnostic.IDE0058.severity = suggestion  # Expression value is never used
dotnet_diagnostic.IDE0059.severity = suggestion  # Remove unnecessary assignment
dotnet_diagnostic.IDE0060.severity = suggestion  # Remove unused parameter
dotnet_diagnostic.IDE0065.severity = warning     # Incorrectly placed using directive
dotnet_diagnostic.IDE0070.severity = suggestion  # Use file-scoped namespace
dotnet_diagnostic.IDE0090.severity = suggestion  # Use new instance creation expression
dotnet_diagnostic.IDE0100.severity = suggestion  # Discard of unnecessary temporary value
dotnet_diagnostic.IDE0110.severity = suggestion  # Discard can be removed
dotnet_diagnostic.IDE0130.severity = suggestion  # Namespace does not match folder structure
dotnet_diagnostic.IDE0150.severity = suggestion  # Prefer null check over type check
dotnet_diagnostic.IDE0160.severity = suggestion  # Convert to block scoped namespace
dotnet_diagnostic.IDE0161.severity = suggestion  # Convert to file scoped namespace
dotnet_diagnostic.IDE0170.severity = suggestion  # Property pattern can be simplified
dotnet_diagnostic.IDE0180.severity = suggestion  # Use tuple to swap values
dotnet_diagnostic.IDE0190.severity = suggestion  # Use throw expression
dotnet_diagnostic.IDE0200.severity = suggestion  # Remove unnecessary lambda expression
dotnet_diagnostic.IDE0220.severity = suggestion  # Add pattern matching
dotnet_diagnostic.IDE0230.severity = suggestion  # Use UTF-8 string literal
dotnet_diagnostic.IDE0240.severity = suggestion  # Remove redundant nullable directive
dotnet_diagnostic.IDE0242.severity = suggestion  # Unnecessary nullable directive
dotnet_diagnostic.IDE0250.severity = suggestion  # Make struct a record struct
dotnet_diagnostic.IDE0251.severity = suggestion  # Member can be made readonly
dotnet_diagnostic.IDE0260.severity = suggestion  # Use local function
dotnet_diagnostic.IDE0270.severity = suggestion  # Use coalesce expression
dotnet_diagnostic.IDE0290.severity = suggestion  # Use primary constructor
dotnet_diagnostic.IDE0300.severity = suggestion  # Simplify collection initialization
